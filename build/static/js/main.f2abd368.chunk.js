(this.webpackJsonpbloglist=this.webpackJsonpbloglist||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(13),o=n.n(r),u=n(14),c=n(2),i=function(e){var t=e.title,n=e.author,a=e.url,r=e.votes,o=e.addVote;return l.a.createElement("div",{className:"Blog"},l.a.createElement("h4",null,t),l.a.createElement("ul",null,"by: ",n),l.a.createElement("ul",null,l.a.createElement("a",{href:a}," ",a)),l.a.createElement("ul",{className:"votes"},r," votes"),l.a.createElement("ul",null,l.a.createElement("button",{onClick:o},"vote")))},s=function(e){var t=e.blogs,n=e.addVote;return l.a.createElement("div",null,t.map((function(e){return l.a.createElement(i,{key:e.id,title:e.title,author:e.author,url:e.url,votes:e.votes,id:e.id,addVote:function(){return n(e.id)}})})))},h=function(e){var t=e.onSubmit,n=e.handleChangeBlog,a=e.handleChangeAuthor,r=e.handleChangeUrl,o=e.valueBlog,u=e.valueAuthor,c=e.valueUrl;return l.a.createElement("div",null,l.a.createElement("h2",null,"Create a new blogpost"),l.a.createElement("form",{class:"container",onSubmit:t},l.a.createElement("p",null,"title: ",l.a.createElement("input",{value:o,onChange:n})),l.a.createElement("p",null,"author: ",l.a.createElement("input",{value:u,onChange:a})),l.a.createElement("p",null,"address: ",l.a.createElement("input",{value:c,onChange:r})),l.a.createElement("p",null,l.a.createElement("button",{type:"submit"},"add"))))},d=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"Title:"),l.a.createElement("ul",null,"Author:"),l.a.createElement("ul",null,"Url:"))},m=n(3),g=n.n(m),v=function(){return g.a.get("/api/blogs").then((function(e){return e.data}))},f=function(e){return g.a.post("/api/blogs",e).then((function(e){return e.data}))},E=function(e,t){return g.a.put("".concat("/api/blogs","/").concat(e),t).then((function(e){return e.data}))},b=function(e){var t=Object(a.useState)(e.blogs),n=Object(c.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(""),m=Object(c.a)(i,2),g=m[0],b=m[1],p=Object(a.useState)(""),C=Object(c.a)(p,2),k=C[0],w=C[1],A=Object(a.useState)(""),B=Object(c.a)(A,2),j=B[0],O=B[1];Object(a.useEffect)((function(){v().then((function(e){o(e)})).catch((function(e){alert("There has been an error fetching your blogs.")}))}),[]);return l.a.createElement("div",{className:"mainBody"},l.a.createElement("h1",null,"Blog Logger"),"Enter new found blogs that peak your interest and let others vote on them!",l.a.createElement(h,{onSubmit:function(e){e.preventDefault(),console.log("Blog added",e.target.value),f({title:g,author:k,url:j,votes:0}).then((function(e){o(r.concat(e)),b(""),w(""),O("")})).catch((function(e){alert("Error! Your blog was not added.")}))},valueBlog:g,valueAuthor:k,valueUrl:j,handleChangeBlog:function(e){console.log(e.target.value),b(e.target.value)},handleChangeAuthor:function(e){console.log(e.target.value),w(e.target.value)},handleChangeUrl:function(e){console.log(e.target.value),O(e.target.value)}}),l.a.createElement("h2",null,"Top Rated Blogs"),l.a.createElement(d,null),l.a.createElement("h2",null,"All Blogs"),l.a.createElement(s,{blogs:r,addVote:function(e){var t=r.find((function(t){return t.id===e})),n=Object(u.a)({},t,{votes:t.votes+1});E(e,n).then((function(t){o(r.map((function(n){return n.id!==e?n:t})))})).catch((function(e){alert("Voting error!")}))},id:e.id,votes:e.votes}))};n(37);o.a.render(l.a.createElement(b,{blogs:[{id:1,author:"Andrew Skurka",title:"Andrew Skurka: Hard-won insights from out there",url:"https://andrewskurka.com/",votes:7},{id:2,author:"Alan Dixon",title:"ULTRALIGHT BACKPACKING & HIKING",url:"https://www.adventurealan.com/",votes:5},{id:3,author:"Derek Hansen",title:"The Ultimate Hang",url:"https://theultimatehang.com/blog/",votes:3}]}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.f2abd368.chunk.js.map