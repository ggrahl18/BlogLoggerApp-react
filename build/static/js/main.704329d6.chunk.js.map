{"version":3,"sources":["components/Blog.js","components/BlogAll.js","components/BlogForm.js","services/blogs.js","services/login.js","components/Notifications.js","App.js","index.js"],"names":["Blog","title","author","url","votes","addVote","className","href","onClick","BlogAll","blogs","map","b","key","id","BlogForm","onSubmit","handleChangeBlog","handleChangeAuthor","handleChangeUrl","valueBlog","valueAuthor","valueUrl","class","value","onChange","type","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","update","put","setToken","newToken","login","credentials","Notifications","message","App","props","useState","setBlogs","newBlog","setNewBlog","newAuthor","setNewAuthor","newUrl","setNewUrl","username","setUsername","password","setPassword","user","setUser","setMessage","useEffect","blogService","initialBlogs","catch","error","alert","loggedUserJSON","window","localStorage","getItem","JSON","parse","messageWith","setTimeout","handleLogin","event","preventDefault","loginService","setItem","stringify","console","log","name","target","removeItem","location","reload","exception","blogObject","returnedBlog","concat","blog","find","n","changedBlog","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.704329d6.chunk.js","sourcesContent":["\nimport React from 'react'\n\nconst Blog = ({ title, author, url, votes, addVote }) => {\n  return (\n    <div className=\"Blog\">\n        <h4>{title}</h4>\n        <ul>\n          by: {author}\n        </ul>\n        <ul>\n        <a href={url}> {url}</a>\n        </ul>\n        <ul className=\"votes\">\n          {votes} votes\n        </ul>\n        <ul>\n        <button onClick={addVote}>vote</button>          \n        </ul>\n    </div>\n  )\n}\n\nexport default Blog","import React from 'react'\nimport Blog from './Blog'\n\nconst BlogAll = ({ blogs, addVote }) => {\n  return (\n    <div>\n      {blogs.map((b) => \n        <Blog\n          key={b.id}\n          title={b.title}\n          author={b.author}\n          url={b.url}\n          votes={b.votes}\n          id={b.id}\n          addVote={() => addVote(b.id)}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default BlogAll","import React from 'react'\n\nconst BlogForm = ({ onSubmit, handleChangeBlog, handleChangeAuthor, handleChangeUrl, valueBlog, valueAuthor, valueUrl }) => {\n  return (\n    <div>\n      <h2>Create a new blogpost</h2>\n\n      <form class=\"container\" onSubmit={onSubmit} >\n        <p>\n          title: <input value={valueBlog} onChange={handleChangeBlog} />\n        </p>\n        <p>\n          author: <input value={valueAuthor} onChange={handleChangeAuthor} />\n        </p>\n        <p>\n          address: <input value={valueUrl} onChange={handleChangeUrl} />\n        </p>\n        <p>\n          <button type=\"submit\">add</button>\n        </p>\n      </form>\n    </div>\n  )\n}\n\nexport default BlogForm","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, setToken }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React from 'react'\n\nconst Notifications = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={message.type}>\n      {message.message}\n    </div>\n  )\n}\n\nexport default Notifications","import React, { useState, useEffect } from 'react';\nimport BlogAll from './components/BlogAll'\nimport BlogForm from './components/BlogForm'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\nimport Notifications from './components/Notifications'\n// import TopBlogs from './components/TopBlogs'\n\nconst App = (props) => {\n  const [blogs, setBlogs] = useState(props.blogs)\n  const [newBlog, setNewBlog] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n  const [username, setUsername] = useState('') \n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then(initialBlogs => {\n        setBlogs(initialBlogs)\n      })\n      .catch(error => {\n        alert('There has been an error fetching your blogs.')\n      })\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const addNote = (event) => {\n    event.preventDefault()\n    console.log('Blog added', event.target.value)\n      \n    const blogObject = {\n      title: newBlog,\n      author: newAuthor,\n      url: newUrl,\n      votes: 0,\n    }\n\n    blogService\n      .create(blogObject)\n      .then(returnedBlog => {\n        setBlogs(blogs.concat(returnedBlog))\n        setNewBlog('')\n        setNewAuthor('')\n        setNewUrl('')\n\n        messageWith('Blog added!')\n        console.log('Blog added!')\n        setTimeout(() => {\n          messageWith(null)\n        }, 5000)\n      })\n      .catch(error => {\n        messageWith('Error, your blog was not added! Check all fields.', 'error')\n        console.log('Error, your blog was not added! Check all fields.')\n        setTimeout(() => {\n          messageWith(null)\n        }, 5000)\n      })\n  }\n\n  const handleChangeBlog = (event) => {\n    console.log(event.target.value)\n    setNewBlog(event.target.value)\n  }\n\n  const handleChangeAuthor = (event) => {\n    console.log(event.target.value)\n    setNewAuthor(event.target.value)\n  }\n\n  const handleChangeUrl = (event) => {\n    console.log(event.target.value)\n    setNewUrl(event.target.value)\n  }\n\n  const addVote = (id) => {\n    const blog = blogs.find((n) => n.id === id)\n    const changedBlog = { ...blog, votes: blog.votes + 1}\n\n    blogService\n      .update(id, changedBlog)\n        .then(returnedBlog => {\n          setBlogs(blogs.map(blog => blog.id !== id ? blog : returnedBlog))\n        })\n        .catch(error => {\n          alert(`Voting error!`)\n          console.log('Voting error!')\n        })\n  }\n  \n  const messageWith = (message, type='success') => {\n    setMessage({ message, type })\n    setTimeout(() => {\n      setMessage(null)\n    }, 6000)\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem(\n        'loggedNoteappUser', JSON.stringify(user)\n      ) \n\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n\n      messageWith('login successful!')\n      console.log('Login successful!')\n      setTimeout(() => {\n        messageWith(null)\n      }, 5000)\n    } \n    catch (exception) {\n      messageWith('Incorrect login!', 'error')\n      console.log('Incorrect login!')\n      setTimeout(() => {\n        messageWith(null)\n      }, 5000)\n    }\n  }\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n      <div>\n        username {' '}\n          <input\n          type=\"text\"\n          value={username}\n          name=\"Username\"\n          onChange={({ target }) => setUsername(target.value)}\n        />\n      </div>\n      <div>\n        password {' '}\n          <input\n          type=\"password\"\n          value={password}\n          name=\"Password\"\n          onChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n      <p><button type=\"submit\">login</button></p>\n    </form>      \n  )\n\n  const handleLogout = (event) => {\n    event.preventDefault()\n    try {\n      window.localStorage.removeItem('loggedNoteappUser')\n      messageWith('You have been logged out!')\n      console.log('You have been logged out!')\n      window.location.reload(false);\n    }\n    catch (exception) {\n      messageWith('Logout failed!', 'error')\n      console.log('Logout failed!')\n      setTimeout(() => {\n        messageWith(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div className=\"mainBody\">\n      <h1>Blog Logger</h1>\n          <p>Enter new found blogs that peak your interest and let others vote on them!</p>\n          \n          <Notifications message={message} />\n          \n          {user === null ?\n            loginForm() :\n            <div>\n              <p>{user.name} is currently logged in</p>\n              <p><button onClick={handleLogout}>logout</button></p>\n              {\n                <BlogForm\n                  onSubmit={addNote}\n                  valueBlog={newBlog}\n                  valueAuthor={newAuthor}\n                  valueUrl={newUrl}\n                  handleChangeBlog={handleChangeBlog}\n                  handleChangeAuthor={handleChangeAuthor}\n                  handleChangeUrl={handleChangeUrl}\n                />\n              }\n            </div>\n          }\n\n        <BlogAll\n          blogs={blogs}\n          addVote={addVote}\n          id={props.id}\n          votes={props.votes}\n        />\n{/* \n        <h2>Top Rated Blogs</h2>\n        <TopBlogs /> */}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nconst blogs = [\n  {\n    id: 1,\n    author: 'Andrew Skurka',\n    title: 'Andrew Skurka: Hard-won insights from out there',\n    url: 'https://andrewskurka.com/',\n    votes: 7 \n  },\n  {\n    id: 2,\n    author: 'Alan Dixon',\n    title: 'ULTRALIGHT BACKPACKING & HIKING',\n    url: 'https://www.adventurealan.com/',\n    votes: 5 \n  },\n  {\n    id: 3,\n    author: 'Derek Hansen',\n    title: 'The Ultimate Hang',\n    url: 'https://theultimatehang.com/blog/',\n    votes: 3 \n  }\n]\n\nReactDOM.render(\n    <App blogs={blogs}/>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}