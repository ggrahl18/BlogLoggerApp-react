{"version":3,"sources":["components/Blog.js","components/BlogAll.js","services/blogs.js","services/login.js","components/Notifications.js","components/LoginForm.js","components/Togglable.js","components/BlogForm.js","App.js","index.js"],"names":["Blog","title","author","url","votes","addVote","removeBlog","useState","moreBlogVisible","setMoreBlogVisible","hideWhenVisibile","display","showWhenVisible","className","style","onClick","href","BlogAll","blogs","sort","a","b","map","key","id","token","getAll","axios","get","then","response","data","create","newObject","config","headers","Authorization","post","update","put","setToken","newToken","remove","delete","login","credentials","Notifications","message","type","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","value","onChange","Togglable","React","forwardRef","props","ref","visible","setVisible","hideWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","displayName","BlogForm","createBlog","newBlog","setNewBlog","newAuthor","setNewAuthor","newUrl","setNewUrl","class","event","preventDefault","target","App","setBlogs","setUsername","setPassword","user","setUser","setMessage","useEffect","blogService","initialBlogs","catch","error","alert","loggedUserJSON","window","localStorage","getItem","JSON","parse","addBlog","blogObject","blogFormRef","current","returnedBlog","concat","messageWith","console","log","setTimeout","handleLogin","loginService","setItem","stringify","createRef","name","clear","location","reload","exception","blog","find","n","changedBlog","deleteBlog","confirm","filter","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9c07fc0b.chunk.js","sourcesContent":["import React, { useState } from 'react'\n\nconst Blog = ({ title, author, url, votes, addVote, removeBlog }) => {\n  const [moreBlogVisible, setMoreBlogVisible] = useState(false)\n\n  const hideWhenVisibile = { display: moreBlogVisible ? 'none' : '' }\n  const showWhenVisible = { display: moreBlogVisible ? '' : 'none' }\n\n  return (\n    <div className=\"Blog\">\n      <div style={hideWhenVisibile}>\n        {title}\n        <button onClick={() => setMoreBlogVisible(true)}>show more</button>\n        <button className=\"remove\" onClick={removeBlog}>remove</button>\n      </div>\n\n      <div style={showWhenVisible}>\n        <ul>\n          {title}\n          <button onClick={() => setMoreBlogVisible(false)}>show less</button>\n          <button className=\"remove\" onClick={removeBlog}>remove</button>\n        </ul>\n        <ul>\n          by: {author}\n        </ul>\n        <ul>\n          <a href={url}> {url}</a>\n        </ul>\n        <ul className=\"votes\">\n          {votes} votes <button onClick={addVote}>vote</button>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default Blog","import React from 'react'\nimport Blog from './Blog'\n\nconst BlogAll = ({ blogs, addVote, removeBlog }) => {\n  return (\n    <div>\n      {blogs.sort((a, b) => b.votes - a.votes).map((b) =>\n        <Blog\n          key={b.id}\n          title={b.title}\n          author={b.author}\n          url={b.url}\n          votes={b.votes}\n          id={b.id}\n          addVote={() => addVote(b.id)}\n          removeBlog={() => removeBlog(b.id)}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default BlogAll","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst remove = (id) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const request = axios.delete(`${baseUrl}/${id}`, config)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, setToken, remove }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React from 'react'\n\nconst Notifications = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={message.type}>\n      {message.message}\n    </div>\n  )\n}\n\nexport default Notifications","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst LoginForm = ({\n  handleSubmit,\n  handleUsernameChange,\n  handlePasswordChange,\n  username,\n  password\n}) => {\n  return (\n    <div className=\"loginForm\">\n      <h2>Login</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div>\n          username\n          <input\n            value={username}\n            onChange={handleUsernameChange}\n          />\n        </div>\n\n        <div>\n          password\n          <input\n            type=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n          />\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n    </div>\n  )\n}\n\nLoginForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  handleUsernameChange: PropTypes.func.isRequired,\n  handlePasswordChange: PropTypes.func.isRequired,\n  username: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired\n}\n\nexport default LoginForm","import React, { useState, useImperativeHandle } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n})\n\nTogglable.displayName = 'Togglable'\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired\n}\n\nexport default Togglable","import React, {useState} from 'react'\n\nconst BlogForm = ({ createBlog }) => {\n  const [newBlog, setNewBlog] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n\n\n  const handleChangeBlog = (event) => {\n    setNewBlog(event.target.value)\n  }\n\n  const handleChangeAuthor = (event) => {\n    setNewAuthor(event.target.value)\n  }\n\n  const handleChangeUrl = (event) => {\n    setNewUrl(event.target.value)\n  }\n  \n  const addBlog = (event) => {\n    event.preventDefault()\n    createBlog({\n      title: newBlog,\n      author: newAuthor,\n      url: newUrl,\n      votes: 0,\n    })\n\n    setNewBlog('')\n    setNewAuthor('')\n    setNewUrl('')\n  }\n\n  return (\n    <div>\n      <h2>Create a new blogpost</h2>\n\n      <form class=\"container\" onSubmit={addBlog} >\n        <p>\n          title: <input value={newBlog} onChange={handleChangeBlog} />\n        </p>\n        <p>\n          author: <input value={newAuthor} onChange={handleChangeAuthor} />\n        </p>\n        <p>\n          address: <input value={newUrl} onChange={handleChangeUrl} />\n        </p>\n        <p>\n          <button type=\"submit\">add</button>\n        </p>\n      </form>\n    </div>\n  )\n}\n\nexport default BlogForm","import React, { useState, useEffect } from 'react'\nimport BlogAll from './components/BlogAll'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\nimport Notifications from './components/Notifications'\nimport LoginForm from './components/LoginForm'\nimport Togglable from './components/Togglable'\nimport BlogForm from './components/BlogForm'\n\nconst App = (props) => {\n  const [blogs, setBlogs] = useState(props.blogs)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then(initialBlogs => {\n        setBlogs(initialBlogs)\n      })\n      .catch(error => {\n        alert('There has been an error fetching your blogs.')\n      })\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const addBlog = (blogObject) => {\n    blogFormRef.current.toggleVisibility()\n    blogService\n      .create(blogObject)\n      .then(returnedBlog => {\n        setBlogs(blogs.concat(returnedBlog))\n\n        messageWith('Blog added!')\n        console.log('Blog added!')\n        setTimeout(() => {\n          messageWith(null)\n        }, 5000)\n      })\n      .catch(error => {\n        messageWith('Error, your blog was not added! Check all fields.', 'error')\n        console.log('Error, your blog was not added! Check all fields.')\n        setTimeout(() => {\n          messageWith(null)\n        }, 5000)\n      })\n  }\n\n  const removeBlog = (id) => {\n    const deleteBlog = blogs.find(b => b.id === id)\n    if (window.confirm(`Delete ${deleteBlog.title}`)) {\n      blogService.remove(id)\n        .then(response => {\n          setBlogs(blogs.filter(p => p.id !== id))\n          messageWith(`Deleted ${deleteBlog.title}`)\n          console.log('Blog removed!')\n          setTimeout(() => {\n            messageWith(null)\n          }, 5000)\n        })\n        .catch(() => {\n          setBlogs(blogs.filter(p => p.id !== id))\n          messageWith(`${deleteBlog.title} was already removed`, 'error')\n          console.log(`${deleteBlog.title} was already removed`)\n          setTimeout(() => {\n            messageWith(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const addVote = (id) => {\n    const blog = blogs.find((n) => n.id === id)\n    const changedBlog = { ...blog, votes: blog.votes + 1}\n\n    blogService\n      .update(id, changedBlog)\n      .then(returnedBlog => {\n        setBlogs(blogs.map(blog => blog.id !== id ? blog : returnedBlog))\n      })\n      .catch(error => {\n        alert('Voting error!')\n        console.log('Voting error!')\n      })\n  }\n\n  const messageWith = (message, type='success') => {\n    setMessage({ message, type })\n    setTimeout(() => {\n      setMessage(null)\n    }, 6000)\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem(\n        'loggedNoteappUser', JSON.stringify(user)\n      )\n\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n\n      messageWith('login successful!')\n      console.log('Login successful!')\n      setTimeout(() => {\n        messageWith(null)\n      }, 5000)\n    }\n    catch (exception) {\n      messageWith('Incorrect login!', 'error')\n      console.log('Incorrect login!')\n      setTimeout(() => {\n        messageWith(null)\n      }, 5000)\n    }\n  }\n\n  const loginForm = () => (\n    <Togglable buttonLabel='login'>\n      <LoginForm\n        username={username}\n        password={password}\n        handleUsernameChange={({ target }) => setUsername(target.value)}\n        handlePasswordChange={({ target }) => setPassword(target.value)}\n        handleSubmit={handleLogin}\n      />\n    </Togglable>\n  )\n\n  const blogFormRef = React.createRef()\n\n  const blogForm = () => (\n    <Togglable buttonLabel='new blog' ref={blogFormRef}>\n      <BlogForm createBlog={addBlog} />\n    </Togglable>\n  )\n\n  const handleLogout = (event) => {\n    event.preventDefault()\n    try {\n      window.localStorage.clear()\n      messageWith('You have been logged out!')\n      console.log('You have been logged out!')\n      window.location.reload(false)\n    }\n    catch (exception) {\n      messageWith('Logout failed!', 'error')\n      console.log('Logout failed!')\n      setTimeout(() => {\n        messageWith(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div className=\"mainBody\">\n      <h1>Blog Logger</h1>\n      <p>Enter new found blogs that peak your interest and let others vote on them!</p>\n\n      {user === null ?\n        loginForm() :\n        <div>\n          <p className='userName'>{user.name} logged in</p>\n          <Notifications message={message} />\n          <button onClick={handleLogout}>log out</button>\n          {blogForm()}\n        </div>\n      }\n\n      <BlogAll\n        blogs={blogs}\n        id={props.id}\n        votes={props.votes}\n        addVote={addVote}\n        removeBlog={removeBlog}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nconst blogs = [\n  {\n    id: 1,\n    author: 'Andrew Skurka',\n    title: 'Andrew Skurka: Hard-won insights from out there',\n    url: 'https://andrewskurka.com/',\n    votes: 7 \n  },\n  {\n    id: 2,\n    author: 'Alan Dixon',\n    title: 'ULTRALIGHT BACKPACKING & HIKING',\n    url: 'https://www.adventurealan.com/',\n    votes: 5 \n  },\n  {\n    id: 3,\n    author: 'Derek Hansen',\n    title: 'The Ultimate Hang',\n    url: 'https://theultimatehang.com/blog/',\n    votes: 3 \n  }\n]\n\nReactDOM.render(\n    <App blogs={blogs}/>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}